SPACE.SoundCloud = (function() {
  function SoundCloud(id) {
    SC.initialize({
      client_id: id,
      redirect_uri: 'http://localhost:3000'
    });
  }

  SoundCloud.prototype.pathOrUrl = function(path, callback) {
    if (/^\/(playlists|tracks)\/[0-9]+$/.test(path)) {
      return callback(path);
    }
    if (!/^(http|https)/.test(path)) {
      return console.log("\"" + path + "\" is not an url or a path");
    }
    return SC.get('/resolve', {
      url: path
    }, (function(_this) {
      return function(track, error) {
        var url;
        if (error) {
          return console.log(error.message);
        } else {
          url = ['', track.kind + 's', track.id].join('/');
          return callback(url);
        }
      };
    })(this));
  };

  SoundCloud.prototype.streamSound = function(object, callback, events) {
    var path;
    if (events == null) {
      events = {};
    }
    if (object && object.hasOwnProperty('kind')) {
      path = object.uri.replace('https://api.soundcloud.com', '');
      return SC.stream(path + '?token=1-31329-11457116-c5b96945c5e7e7c', {
        autoPlay: true,
        useWaveformData: true,
        whileplaying: events.whileplaying,
        onplay: events.onplay,
        onfinish: events.onfinish
      }, callback);
    }
  };

  SoundCloud.prototype.getSoundOrPlaylist = function(path, callback) {
    return this.pathOrUrl(path, (function(_this) {
      return function(path) {
        return _this.get(path, callback);
      };
    })(this));
  };

  SoundCloud.prototype.get = function(path, callback) {
    return SC.get(path + '?token=1-31329-11457116-c5b96945c5e7e7c', callback);
  };

  return SoundCloud;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsYXNzZXMvc291bmRjbG91ZC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsS0FBVyxDQUFDO0FBQ0csRUFBQSxvQkFBQyxFQUFELEdBQUE7QUFDWCxJQUFBLEVBQUUsQ0FBQyxVQUFILENBQWM7QUFBQSxNQUNaLFNBQUEsRUFBVyxFQURDO0FBQUEsTUFFWixZQUFBLEVBQWMsdUJBRkY7S0FBZCxDQUFBLENBRFc7RUFBQSxDQUFiOztBQUFBLHVCQVlBLFNBQUEsR0FBVyxTQUFDLElBQUQsRUFBTyxRQUFQLEdBQUE7QUFFVCxJQUFBLElBQUcsZ0NBQWdDLENBQUMsSUFBakMsQ0FBc0MsSUFBdEMsQ0FBSDtBQUNFLGFBQU8sUUFBQSxDQUFTLElBQVQsQ0FBUCxDQURGO0tBQUE7QUFHQSxJQUFBLElBQUEsQ0FBQSxlQUFzQixDQUFDLElBQWhCLENBQXFCLElBQXJCLENBQVA7QUFDRSxhQUFPLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBQSxHQUFPLElBQVAsR0FBYyw0QkFBMUIsQ0FBUCxDQURGO0tBSEE7V0FNQSxFQUFFLENBQUMsR0FBSCxDQUFPLFVBQVAsRUFBbUI7QUFBQSxNQUFFLEdBQUEsRUFBSyxJQUFQO0tBQW5CLEVBQWtDLENBQUEsU0FBQSxLQUFBLEdBQUE7YUFBQSxTQUFDLEtBQUQsRUFBUSxLQUFSLEdBQUE7QUFDaEMsWUFBQSxHQUFBO0FBQUEsUUFBQSxJQUFJLEtBQUo7aUJBQ0UsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFLLENBQUMsT0FBbEIsRUFERjtTQUFBLE1BQUE7QUFHRSxVQUFBLEdBQUEsR0FBTSxDQUFDLEVBQUQsRUFBSyxLQUFLLENBQUMsSUFBTixHQUFXLEdBQWhCLEVBQXFCLEtBQUssQ0FBQyxFQUEzQixDQUE4QixDQUFDLElBQS9CLENBQW9DLEdBQXBDLENBQU4sQ0FBQTtpQkFDQSxRQUFBLENBQVMsR0FBVCxFQUpGO1NBRGdDO01BQUEsRUFBQTtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBbEMsRUFSUztFQUFBLENBWlgsQ0FBQTs7QUFBQSx1QkE0QkEsV0FBQSxHQUFhLFNBQUMsTUFBRCxFQUFTLFFBQVQsRUFBbUIsTUFBbkIsR0FBQTtBQUNYLFFBQUEsSUFBQTs7TUFEOEIsU0FBTztLQUNyQztBQUFBLElBQUEsSUFBRyxNQUFBLElBQVcsTUFBTSxDQUFDLGNBQVAsQ0FBc0IsTUFBdEIsQ0FBZDtBQUNFLE1BQUEsSUFBQSxHQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBWCxDQUFtQiw0QkFBbkIsRUFBaUQsRUFBakQsQ0FBUCxDQUFBO2FBQ0EsRUFBRSxDQUFDLE1BQUgsQ0FBVSxJQUFBLEdBQUsseUNBQWYsRUFBMEQ7QUFBQSxRQUN4RCxRQUFBLEVBQVUsSUFEOEM7QUFBQSxRQUd4RCxlQUFBLEVBQWlCLElBSHVDO0FBQUEsUUFLeEQsWUFBQSxFQUFlLE1BQU0sQ0FBQyxZQUxrQztBQUFBLFFBTXhELE1BQUEsRUFBZSxNQUFNLENBQUMsTUFOa0M7QUFBQSxRQU94RCxRQUFBLEVBQWUsTUFBTSxDQUFDLFFBUGtDO09BQTFELEVBUUcsUUFSSCxFQUZGO0tBRFc7RUFBQSxDQTVCYixDQUFBOztBQUFBLHVCQXlDQSxrQkFBQSxHQUFvQixTQUFDLElBQUQsRUFBTyxRQUFQLEdBQUE7V0FDbEIsSUFBQyxDQUFBLFNBQUQsQ0FBVyxJQUFYLEVBQWlCLENBQUEsU0FBQSxLQUFBLEdBQUE7YUFBQSxTQUFDLElBQUQsR0FBQTtlQUNmLEtBQUMsQ0FBQSxHQUFELENBQUssSUFBTCxFQUFXLFFBQVgsRUFEZTtNQUFBLEVBQUE7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQWpCLEVBRGtCO0VBQUEsQ0F6Q3BCLENBQUE7O0FBQUEsdUJBOENBLEdBQUEsR0FBSyxTQUFDLElBQUQsRUFBTyxRQUFQLEdBQUE7V0FDSCxFQUFFLENBQUMsR0FBSCxDQUFPLElBQUEsR0FBSyx5Q0FBWixFQUF1RCxRQUF2RCxFQURHO0VBQUEsQ0E5Q0wsQ0FBQTs7b0JBQUE7O0lBREYsQ0FBQSIsImZpbGUiOiJjbGFzc2VzL3NvdW5kY2xvdWQuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTUEFDRS5Tb3VuZENsb3VkXG4gIGNvbnN0cnVjdG9yOiAoaWQpLT5cbiAgICBTQy5pbml0aWFsaXplKHtcbiAgICAgIGNsaWVudF9pZDogaWRcbiAgICAgIHJlZGlyZWN0X3VyaTogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCdcbiAgICB9KVxuXG4gICAgIyAjIElGIE5PIFRPS0VOXG4gICAgIyBTQy5jb25uZWN0KC0+XG4gICAgIyAgICMgMS0zMTMyOS0xMTQ1NzExNi1jNWI5Njk0NWM1ZTdlN2NcbiAgICAjICAgY29uc29sZS5sb2cgU0MuYWNjZXNzVG9rZW4oKVxuICAgICMgKVxuXG4gIHBhdGhPclVybDogKHBhdGgsIGNhbGxiYWNrKS0+XG4gICAgIyBWZXJpZnkgaWYgaXQncyBhbiBJRCBvciBhbiBVUkxcbiAgICBpZiAvXlxcLyhwbGF5bGlzdHN8dHJhY2tzKVxcL1swLTldKyQvLnRlc3QocGF0aClcbiAgICAgIHJldHVybiBjYWxsYmFjayhwYXRoKVxuXG4gICAgdW5sZXNzIC9eKGh0dHB8aHR0cHMpLy50ZXN0KHBhdGgpXG4gICAgICByZXR1cm4gY29uc29sZS5sb2cgXCJcXFwiXCIgKyBwYXRoICsgXCJcXFwiIGlzIG5vdCBhbiB1cmwgb3IgYSBwYXRoXCJcblxuICAgIFNDLmdldCgnL3Jlc29sdmUnLCB7IHVybDogcGF0aCB9LCAodHJhY2ssIGVycm9yKT0+XG4gICAgICBpZiAoZXJyb3IpXG4gICAgICAgIGNvbnNvbGUubG9nIGVycm9yLm1lc3NhZ2VcbiAgICAgIGVsc2VcbiAgICAgICAgdXJsID0gWycnLCB0cmFjay5raW5kKydzJywgdHJhY2suaWRdLmpvaW4oJy8nKVxuICAgICAgICBjYWxsYmFjayh1cmwpXG4gICAgKVxuXG4gIHN0cmVhbVNvdW5kOiAob2JqZWN0LCBjYWxsYmFjaywgZXZlbnRzPXt9KS0+XG4gICAgaWYgb2JqZWN0IGFuZCBvYmplY3QuaGFzT3duUHJvcGVydHkoJ2tpbmQnKVxuICAgICAgcGF0aCA9IG9iamVjdC51cmkucmVwbGFjZSgnaHR0cHM6Ly9hcGkuc291bmRjbG91ZC5jb20nLCAnJylcbiAgICAgIFNDLnN0cmVhbShwYXRoKyc/dG9rZW49MS0zMTMyOS0xMTQ1NzExNi1jNWI5Njk0NWM1ZTdlN2MnLCB7XG4gICAgICAgIGF1dG9QbGF5OiB0cnVlXG4gICAgICAgICMgdXNlRVFEYXRhOiB0cnVlXG4gICAgICAgIHVzZVdhdmVmb3JtRGF0YTogdHJ1ZVxuICAgICAgICAjIHVzZVBlYWtEYXRhOiB0cnVlXG4gICAgICAgIHdoaWxlcGxheWluZyA6IGV2ZW50cy53aGlsZXBsYXlpbmdcbiAgICAgICAgb25wbGF5ICAgICAgIDogZXZlbnRzLm9ucGxheVxuICAgICAgICBvbmZpbmlzaCAgICAgOiBldmVudHMub25maW5pc2hcbiAgICAgIH0sIGNhbGxiYWNrKVxuXG4gIGdldFNvdW5kT3JQbGF5bGlzdDogKHBhdGgsIGNhbGxiYWNrKS0+XG4gICAgQHBhdGhPclVybChwYXRoLCAocGF0aCk9PlxuICAgICAgQGdldChwYXRoLCBjYWxsYmFjaylcbiAgICApXG5cbiAgZ2V0OiAocGF0aCwgY2FsbGJhY2spLT5cbiAgICBTQy5nZXQocGF0aCsnP3Rva2VuPTEtMzEzMjktMTE0NTcxMTYtYzViOTY5NDVjNWU3ZTdjJywgY2FsbGJhY2spXG4iXX0=