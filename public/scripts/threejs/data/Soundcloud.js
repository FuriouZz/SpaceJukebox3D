SPACE.SoundCloud = (function() {
  function SoundCloud(id) {
    SC.initialize({
      client_id: id,
      redirect_uri: 'http://localhost:3000'
    });
  }

  SoundCloud.prototype.pathOrUrl = function(path, callback) {
    if (/^\/(playlists|tracks)\/[0-9]+$/.test(path)) {
      return callback(path);
    }
    if (!/^(http|https)/.test(path)) {
      return console.log("\"" + path + "\" is not an url or a path");
    }
    return SC.get('/resolve', {
      url: path
    }, (function(_this) {
      return function(track, error) {
        var url;
        if (error) {
          return console.log(error.message);
        } else {
          url = ['', track.kind + 's', track.id].join('/');
          return callback(url);
        }
      };
    })(this));
  };

  SoundCloud.prototype.streamSound = function(object, callback, events) {
    var path;
    if (events == null) {
      events = {};
    }
    if (object && object.hasOwnProperty('kind')) {
      path = object.uri.replace('https://api.soundcloud.com', '');
      return SC.stream(path + '?token=1-31329-11457116-c5b96945c5e7e7c', {
        autoPlay: true,
        useWaveformData: true,
        whileplaying: events.whileplaying,
        onplay: events.onplay,
        onfinish: events.onfinish
      }, callback);
    }
  };

  SoundCloud.prototype.getSoundOrPlaylist = function(path, callback) {
    return this.pathOrUrl(path, (function(_this) {
      return function(path) {
        return _this.get(path, callback);
      };
    })(this));
  };

  SoundCloud.prototype.get = function(path, callback) {
    return SC.get(path + '?token=1-31329-11457116-c5b96945c5e7e7c', callback);
  };

  return SoundCloud;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRocmVlanMvZGF0YS9Tb3VuZGNsb3VkLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxLQUFXLENBQUM7QUFDRyxFQUFBLG9CQUFDLEVBQUQsR0FBQTtBQUNYLElBQUEsRUFBRSxDQUFDLFVBQUgsQ0FBYztBQUFBLE1BQ1osU0FBQSxFQUFXLEVBREM7QUFBQSxNQUVaLFlBQUEsRUFBYyx1QkFGRjtLQUFkLENBQUEsQ0FEVztFQUFBLENBQWI7O0FBQUEsdUJBWUEsU0FBQSxHQUFXLFNBQUMsSUFBRCxFQUFPLFFBQVAsR0FBQTtBQUVULElBQUEsSUFBRyxnQ0FBZ0MsQ0FBQyxJQUFqQyxDQUFzQyxJQUF0QyxDQUFIO0FBQ0UsYUFBTyxRQUFBLENBQVMsSUFBVCxDQUFQLENBREY7S0FBQTtBQUdBLElBQUEsSUFBQSxDQUFBLGVBQXNCLENBQUMsSUFBaEIsQ0FBcUIsSUFBckIsQ0FBUDtBQUNFLGFBQU8sT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFBLEdBQU8sSUFBUCxHQUFjLDRCQUExQixDQUFQLENBREY7S0FIQTtXQU1BLEVBQUUsQ0FBQyxHQUFILENBQU8sVUFBUCxFQUFtQjtBQUFBLE1BQUUsR0FBQSxFQUFLLElBQVA7S0FBbkIsRUFBa0MsQ0FBQSxTQUFBLEtBQUEsR0FBQTthQUFBLFNBQUMsS0FBRCxFQUFRLEtBQVIsR0FBQTtBQUNoQyxZQUFBLEdBQUE7QUFBQSxRQUFBLElBQUksS0FBSjtpQkFDRSxPQUFPLENBQUMsR0FBUixDQUFZLEtBQUssQ0FBQyxPQUFsQixFQURGO1NBQUEsTUFBQTtBQUdFLFVBQUEsR0FBQSxHQUFNLENBQUMsRUFBRCxFQUFLLEtBQUssQ0FBQyxJQUFOLEdBQVcsR0FBaEIsRUFBcUIsS0FBSyxDQUFDLEVBQTNCLENBQThCLENBQUMsSUFBL0IsQ0FBb0MsR0FBcEMsQ0FBTixDQUFBO2lCQUNBLFFBQUEsQ0FBUyxHQUFULEVBSkY7U0FEZ0M7TUFBQSxFQUFBO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFsQyxFQVJTO0VBQUEsQ0FaWCxDQUFBOztBQUFBLHVCQTRCQSxXQUFBLEdBQWEsU0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixNQUFuQixHQUFBO0FBQ1gsUUFBQSxJQUFBOztNQUQ4QixTQUFPO0tBQ3JDO0FBQUEsSUFBQSxJQUFHLE1BQUEsSUFBVyxNQUFNLENBQUMsY0FBUCxDQUFzQixNQUF0QixDQUFkO0FBQ0UsTUFBQSxJQUFBLEdBQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFYLENBQW1CLDRCQUFuQixFQUFpRCxFQUFqRCxDQUFQLENBQUE7YUFDQSxFQUFFLENBQUMsTUFBSCxDQUFVLElBQUEsR0FBSyx5Q0FBZixFQUEwRDtBQUFBLFFBQ3hELFFBQUEsRUFBVSxJQUQ4QztBQUFBLFFBR3hELGVBQUEsRUFBaUIsSUFIdUM7QUFBQSxRQUt4RCxZQUFBLEVBQWUsTUFBTSxDQUFDLFlBTGtDO0FBQUEsUUFNeEQsTUFBQSxFQUFlLE1BQU0sQ0FBQyxNQU5rQztBQUFBLFFBT3hELFFBQUEsRUFBZSxNQUFNLENBQUMsUUFQa0M7T0FBMUQsRUFRRyxRQVJILEVBRkY7S0FEVztFQUFBLENBNUJiLENBQUE7O0FBQUEsdUJBeUNBLGtCQUFBLEdBQW9CLFNBQUMsSUFBRCxFQUFPLFFBQVAsR0FBQTtXQUNsQixJQUFDLENBQUEsU0FBRCxDQUFXLElBQVgsRUFBaUIsQ0FBQSxTQUFBLEtBQUEsR0FBQTthQUFBLFNBQUMsSUFBRCxHQUFBO2VBQ2YsS0FBQyxDQUFBLEdBQUQsQ0FBSyxJQUFMLEVBQVcsUUFBWCxFQURlO01BQUEsRUFBQTtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBakIsRUFEa0I7RUFBQSxDQXpDcEIsQ0FBQTs7QUFBQSx1QkE4Q0EsR0FBQSxHQUFLLFNBQUMsSUFBRCxFQUFPLFFBQVAsR0FBQTtXQUNILEVBQUUsQ0FBQyxHQUFILENBQU8sSUFBQSxHQUFLLHlDQUFaLEVBQXVELFFBQXZELEVBREc7RUFBQSxDQTlDTCxDQUFBOztvQkFBQTs7SUFERixDQUFBIiwiZmlsZSI6InRocmVlanMvZGF0YS9Tb3VuZGNsb3VkLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU1BBQ0UuU291bmRDbG91ZFxuICBjb25zdHJ1Y3RvcjogKGlkKS0+XG4gICAgU0MuaW5pdGlhbGl6ZSh7XG4gICAgICBjbGllbnRfaWQ6IGlkXG4gICAgICByZWRpcmVjdF91cmk6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnXG4gICAgfSlcblxuICAgICMgIyBJRiBOTyBUT0tFTlxuICAgICMgU0MuY29ubmVjdCgtPlxuICAgICMgICAjIDEtMzEzMjktMTE0NTcxMTYtYzViOTY5NDVjNWU3ZTdjXG4gICAgIyAgIGNvbnNvbGUubG9nIFNDLmFjY2Vzc1Rva2VuKClcbiAgICAjIClcblxuICBwYXRoT3JVcmw6IChwYXRoLCBjYWxsYmFjayktPlxuICAgICMgVmVyaWZ5IGlmIGl0J3MgYW4gSUQgb3IgYW4gVVJMXG4gICAgaWYgL15cXC8ocGxheWxpc3RzfHRyYWNrcylcXC9bMC05XSskLy50ZXN0KHBhdGgpXG4gICAgICByZXR1cm4gY2FsbGJhY2socGF0aClcblxuICAgIHVubGVzcyAvXihodHRwfGh0dHBzKS8udGVzdChwYXRoKVxuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nIFwiXFxcIlwiICsgcGF0aCArIFwiXFxcIiBpcyBub3QgYW4gdXJsIG9yIGEgcGF0aFwiXG5cbiAgICBTQy5nZXQoJy9yZXNvbHZlJywgeyB1cmw6IHBhdGggfSwgKHRyYWNrLCBlcnJvcik9PlxuICAgICAgaWYgKGVycm9yKVxuICAgICAgICBjb25zb2xlLmxvZyBlcnJvci5tZXNzYWdlXG4gICAgICBlbHNlXG4gICAgICAgIHVybCA9IFsnJywgdHJhY2sua2luZCsncycsIHRyYWNrLmlkXS5qb2luKCcvJylcbiAgICAgICAgY2FsbGJhY2sodXJsKVxuICAgIClcblxuICBzdHJlYW1Tb3VuZDogKG9iamVjdCwgY2FsbGJhY2ssIGV2ZW50cz17fSktPlxuICAgIGlmIG9iamVjdCBhbmQgb2JqZWN0Lmhhc093blByb3BlcnR5KCdraW5kJylcbiAgICAgIHBhdGggPSBvYmplY3QudXJpLnJlcGxhY2UoJ2h0dHBzOi8vYXBpLnNvdW5kY2xvdWQuY29tJywgJycpXG4gICAgICBTQy5zdHJlYW0ocGF0aCsnP3Rva2VuPTEtMzEzMjktMTE0NTcxMTYtYzViOTY5NDVjNWU3ZTdjJywge1xuICAgICAgICBhdXRvUGxheTogdHJ1ZVxuICAgICAgICAjIHVzZUVRRGF0YTogdHJ1ZVxuICAgICAgICB1c2VXYXZlZm9ybURhdGE6IHRydWVcbiAgICAgICAgIyB1c2VQZWFrRGF0YTogdHJ1ZVxuICAgICAgICB3aGlsZXBsYXlpbmcgOiBldmVudHMud2hpbGVwbGF5aW5nXG4gICAgICAgIG9ucGxheSAgICAgICA6IGV2ZW50cy5vbnBsYXlcbiAgICAgICAgb25maW5pc2ggICAgIDogZXZlbnRzLm9uZmluaXNoXG4gICAgICB9LCBjYWxsYmFjaylcblxuICBnZXRTb3VuZE9yUGxheWxpc3Q6IChwYXRoLCBjYWxsYmFjayktPlxuICAgIEBwYXRoT3JVcmwocGF0aCwgKHBhdGgpPT5cbiAgICAgIEBnZXQocGF0aCwgY2FsbGJhY2spXG4gICAgKVxuXG4gIGdldDogKHBhdGgsIGNhbGxiYWNrKS0+XG4gICAgU0MuZ2V0KHBhdGgrJz90b2tlbj0xLTMxMzI5LTExNDU3MTE2LWM1Yjk2OTQ1YzVlN2U3YycsIGNhbGxiYWNrKVxuIl19