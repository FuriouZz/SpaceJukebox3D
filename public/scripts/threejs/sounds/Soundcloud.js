SPACE.SoundCloud = (function() {
  function SoundCloud(id) {
    SC.initialize({
      client_id: id,
      redirect_uri: 'http://localhost:3000'
    });
  }

  SoundCloud.prototype.pathOrUrl = function(path, callback) {
    if (/^\/(playlists|tracks)\/[0-9]+$/.test(path)) {
      return callback(path);
    }
    if (!/^(http|https)/.test(path)) {
      return console.log("\"" + path + "\" is not an url or a path");
    }
    return SC.get('/resolve', {
      url: path
    }, (function(_this) {
      return function(track, error) {
        var url;
        if (error) {
          return console.log(error.message);
        } else {
          url = ['', track.kind + 's', track.id].join('/');
          return callback(url);
        }
      };
    })(this));
  };

  SoundCloud.prototype.streamSound = function(object, callback, events) {
    var path;
    if (events == null) {
      events = {};
    }
    if (object && object.hasOwnProperty('kind')) {
      path = object.uri.replace('https://api.soundcloud.com', '');
      return SC.stream(path + '?token=1-31329-11457116-c5b96945c5e7e7c', {
        autoPlay: true,
        useWaveformData: true,
        whileplaying: events.whileplaying,
        onplay: events.onplay,
        onfinish: events.onfinish
      }, callback);
    }
  };

  SoundCloud.prototype.getSoundOrPlaylist = function(path, callback) {
    return this.pathOrUrl(path, (function(_this) {
      return function(path) {
        return _this.get(path, callback);
      };
    })(this));
  };

  SoundCloud.prototype.get = function(path, callback) {
    return SC.get(path + '?token=1-31329-11457116-c5b96945c5e7e7c', callback);
  };

  return SoundCloud;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRocmVlanMvc291bmRzL1NvdW5kY2xvdWQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEtBQVcsQ0FBQztBQUNHLEVBQUEsb0JBQUMsRUFBRCxHQUFBO0FBQ1gsSUFBQSxFQUFFLENBQUMsVUFBSCxDQUFjO0FBQUEsTUFDWixTQUFBLEVBQVcsRUFEQztBQUFBLE1BRVosWUFBQSxFQUFjLHVCQUZGO0tBQWQsQ0FBQSxDQURXO0VBQUEsQ0FBYjs7QUFBQSx1QkFZQSxTQUFBLEdBQVcsU0FBQyxJQUFELEVBQU8sUUFBUCxHQUFBO0FBRVQsSUFBQSxJQUFHLGdDQUFnQyxDQUFDLElBQWpDLENBQXNDLElBQXRDLENBQUg7QUFDRSxhQUFPLFFBQUEsQ0FBUyxJQUFULENBQVAsQ0FERjtLQUFBO0FBR0EsSUFBQSxJQUFBLENBQUEsZUFBc0IsQ0FBQyxJQUFoQixDQUFxQixJQUFyQixDQUFQO0FBQ0UsYUFBTyxPQUFPLENBQUMsR0FBUixDQUFZLElBQUEsR0FBTyxJQUFQLEdBQWMsNEJBQTFCLENBQVAsQ0FERjtLQUhBO1dBTUEsRUFBRSxDQUFDLEdBQUgsQ0FBTyxVQUFQLEVBQW1CO0FBQUEsTUFBRSxHQUFBLEVBQUssSUFBUDtLQUFuQixFQUFrQyxDQUFBLFNBQUEsS0FBQSxHQUFBO2FBQUEsU0FBQyxLQUFELEVBQVEsS0FBUixHQUFBO0FBQ2hDLFlBQUEsR0FBQTtBQUFBLFFBQUEsSUFBSSxLQUFKO2lCQUNFLE9BQU8sQ0FBQyxHQUFSLENBQVksS0FBSyxDQUFDLE9BQWxCLEVBREY7U0FBQSxNQUFBO0FBR0UsVUFBQSxHQUFBLEdBQU0sQ0FBQyxFQUFELEVBQUssS0FBSyxDQUFDLElBQU4sR0FBVyxHQUFoQixFQUFxQixLQUFLLENBQUMsRUFBM0IsQ0FBOEIsQ0FBQyxJQUEvQixDQUFvQyxHQUFwQyxDQUFOLENBQUE7aUJBQ0EsUUFBQSxDQUFTLEdBQVQsRUFKRjtTQURnQztNQUFBLEVBQUE7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQWxDLEVBUlM7RUFBQSxDQVpYLENBQUE7O0FBQUEsdUJBNEJBLFdBQUEsR0FBYSxTQUFDLE1BQUQsRUFBUyxRQUFULEVBQW1CLE1BQW5CLEdBQUE7QUFDWCxRQUFBLElBQUE7O01BRDhCLFNBQU87S0FDckM7QUFBQSxJQUFBLElBQUcsTUFBQSxJQUFXLE1BQU0sQ0FBQyxjQUFQLENBQXNCLE1BQXRCLENBQWQ7QUFDRSxNQUFBLElBQUEsR0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQVgsQ0FBbUIsNEJBQW5CLEVBQWlELEVBQWpELENBQVAsQ0FBQTthQUNBLEVBQUUsQ0FBQyxNQUFILENBQVUsSUFBQSxHQUFLLHlDQUFmLEVBQTBEO0FBQUEsUUFDeEQsUUFBQSxFQUFVLElBRDhDO0FBQUEsUUFHeEQsZUFBQSxFQUFpQixJQUh1QztBQUFBLFFBS3hELFlBQUEsRUFBZSxNQUFNLENBQUMsWUFMa0M7QUFBQSxRQU14RCxNQUFBLEVBQWUsTUFBTSxDQUFDLE1BTmtDO0FBQUEsUUFPeEQsUUFBQSxFQUFlLE1BQU0sQ0FBQyxRQVBrQztPQUExRCxFQVFHLFFBUkgsRUFGRjtLQURXO0VBQUEsQ0E1QmIsQ0FBQTs7QUFBQSx1QkF5Q0Esa0JBQUEsR0FBb0IsU0FBQyxJQUFELEVBQU8sUUFBUCxHQUFBO1dBQ2xCLElBQUMsQ0FBQSxTQUFELENBQVcsSUFBWCxFQUFpQixDQUFBLFNBQUEsS0FBQSxHQUFBO2FBQUEsU0FBQyxJQUFELEdBQUE7ZUFDZixLQUFDLENBQUEsR0FBRCxDQUFLLElBQUwsRUFBVyxRQUFYLEVBRGU7TUFBQSxFQUFBO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFqQixFQURrQjtFQUFBLENBekNwQixDQUFBOztBQUFBLHVCQThDQSxHQUFBLEdBQUssU0FBQyxJQUFELEVBQU8sUUFBUCxHQUFBO1dBQ0gsRUFBRSxDQUFDLEdBQUgsQ0FBTyxJQUFBLEdBQUsseUNBQVosRUFBdUQsUUFBdkQsRUFERztFQUFBLENBOUNMLENBQUE7O29CQUFBOztJQURGLENBQUEiLCJmaWxlIjoidGhyZWVqcy9zb3VuZHMvU291bmRjbG91ZC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFNQQUNFLlNvdW5kQ2xvdWRcbiAgY29uc3RydWN0b3I6IChpZCktPlxuICAgIFNDLmluaXRpYWxpemUoe1xuICAgICAgY2xpZW50X2lkOiBpZFxuICAgICAgcmVkaXJlY3RfdXJpOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ1xuICAgIH0pXG5cbiAgICAjICMgSUYgTk8gVE9LRU5cbiAgICAjIFNDLmNvbm5lY3QoLT5cbiAgICAjICAgIyAxLTMxMzI5LTExNDU3MTE2LWM1Yjk2OTQ1YzVlN2U3Y1xuICAgICMgICBjb25zb2xlLmxvZyBTQy5hY2Nlc3NUb2tlbigpXG4gICAgIyApXG5cbiAgcGF0aE9yVXJsOiAocGF0aCwgY2FsbGJhY2spLT5cbiAgICAjIFZlcmlmeSBpZiBpdCdzIGFuIElEIG9yIGFuIFVSTFxuICAgIGlmIC9eXFwvKHBsYXlsaXN0c3x0cmFja3MpXFwvWzAtOV0rJC8udGVzdChwYXRoKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKHBhdGgpXG5cbiAgICB1bmxlc3MgL14oaHR0cHxodHRwcykvLnRlc3QocGF0aClcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyBcIlxcXCJcIiArIHBhdGggKyBcIlxcXCIgaXMgbm90IGFuIHVybCBvciBhIHBhdGhcIlxuXG4gICAgU0MuZ2V0KCcvcmVzb2x2ZScsIHsgdXJsOiBwYXRoIH0sICh0cmFjaywgZXJyb3IpPT5cbiAgICAgIGlmIChlcnJvcilcbiAgICAgICAgY29uc29sZS5sb2cgZXJyb3IubWVzc2FnZVxuICAgICAgZWxzZVxuICAgICAgICB1cmwgPSBbJycsIHRyYWNrLmtpbmQrJ3MnLCB0cmFjay5pZF0uam9pbignLycpXG4gICAgICAgIGNhbGxiYWNrKHVybClcbiAgICApXG5cbiAgc3RyZWFtU291bmQ6IChvYmplY3QsIGNhbGxiYWNrLCBldmVudHM9e30pLT5cbiAgICBpZiBvYmplY3QgYW5kIG9iamVjdC5oYXNPd25Qcm9wZXJ0eSgna2luZCcpXG4gICAgICBwYXRoID0gb2JqZWN0LnVyaS5yZXBsYWNlKCdodHRwczovL2FwaS5zb3VuZGNsb3VkLmNvbScsICcnKVxuICAgICAgU0Muc3RyZWFtKHBhdGgrJz90b2tlbj0xLTMxMzI5LTExNDU3MTE2LWM1Yjk2OTQ1YzVlN2U3YycsIHtcbiAgICAgICAgYXV0b1BsYXk6IHRydWVcbiAgICAgICAgIyB1c2VFUURhdGE6IHRydWVcbiAgICAgICAgdXNlV2F2ZWZvcm1EYXRhOiB0cnVlXG4gICAgICAgICMgdXNlUGVha0RhdGE6IHRydWVcbiAgICAgICAgd2hpbGVwbGF5aW5nIDogZXZlbnRzLndoaWxlcGxheWluZ1xuICAgICAgICBvbnBsYXkgICAgICAgOiBldmVudHMub25wbGF5XG4gICAgICAgIG9uZmluaXNoICAgICA6IGV2ZW50cy5vbmZpbmlzaFxuICAgICAgfSwgY2FsbGJhY2spXG5cbiAgZ2V0U291bmRPclBsYXlsaXN0OiAocGF0aCwgY2FsbGJhY2spLT5cbiAgICBAcGF0aE9yVXJsKHBhdGgsIChwYXRoKT0+XG4gICAgICBAZ2V0KHBhdGgsIGNhbGxiYWNrKVxuICAgIClcblxuICBnZXQ6IChwYXRoLCBjYWxsYmFjayktPlxuICAgIFNDLmdldChwYXRoKyc/dG9rZW49MS0zMTMyOS0xMTQ1NzExNi1jNWI5Njk0NWM1ZTdlN2MnLCBjYWxsYmFjaylcbiJdfQ==