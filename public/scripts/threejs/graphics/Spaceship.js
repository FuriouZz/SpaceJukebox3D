var __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

SPACE.Spaceship = (function(_super) {
  __extends(Spaceship, _super);

  Spaceship.prototype.state = null;

  Spaceship.IDLE = 'IDLE';

  Spaceship.LAUNCHED = 'LAUNCHED';

  Spaceship.IN_LOOP = 'IN_LOOP';

  Spaceship.ARRIVED = 'ARRIVED';

  function Spaceship(target, radius) {
    Spaceship.__super__.constructor.apply(this, arguments);
    this.target = target;
    this.radius = radius;
    this.angle = Math.random() * Math.PI * 2;
    this.setState(SPACE.Spaceship.IDLE);
    this.generate();
  }

  Spaceship.prototype.computePosition = function(point, angle, length) {
    var x, y;
    x = point.x + Math.sin(angle) * length;
    y = point.y + Math.cos(angle) * length;
    return new THREE.Vector3(x, y, point.z);
  };

  Spaceship.prototype.generate = function() {
    var distance, g, m, orbit, point, ship, time;
    g = new THREE.Geometry();
    g.vertices.push(new THREE.Vector3(0, -52.5, -10), new THREE.Vector3(-10, -67.5, 10), new THREE.Vector3(-50, -42.5, 10), new THREE.Vector3(0, 67.5, 10), new THREE.Vector3(+50, -42.5, 10), new THREE.Vector3(+10, -67.5, 10));
    g.faces.push(new THREE.Face3(0, 3, 1), new THREE.Face3(1, 2, 3), new THREE.Face3(3, 0, 5), new THREE.Face3(5, 4, 3));
    g.computeFaceNormals();
    m = new THREE.MeshLambertMaterial({
      color: 0x0088ff,
      side: THREE.DoubleSide
    });
    ship = new THREE.Mesh(g, m);
    ship.rotation.set(Math.PI * .5, Math.PI, Math.PI * .5);
    ship.castShadow = true;
    ship.receiveShadow = true;
    this.add(ship);
    this.position.set(250, 0, 250);
    point = new THREE.Vector2(this.target.x, this.target.z);
    orbit = new THREE.Vector2(this.position.x, this.position.z);
    distance = orbit.distanceTo(point);
    time = 0;
    return ship.update = (function(_this) {
      return function(delta) {
        var angle, p;
        time += delta;
        angle = time * .001;
        p = new THREE.Vector3(0, 0, 0);
        p.x = distance * Math.cos(angle);
        p.y = distance * Math.sin(angle);
        p.z = _this.position.z;
        _this.position.set(p.x, 0, p.y);
        return _this.lookAt(_this.target);
      };
    })(this);
  };

  Spaceship.prototype.setState = function(state) {
    this.state = state;
    switch (state) {
      case SPACE.Spaceship.IDLE:
        return SPACE.LOG('IDLE');
      case SPACE.Spaceship.LAUNCHED:
        return SPACE.LOG('LAUNCHED');
      case SPACE.Spaceship.IN_LOOP:
        return SPACE.LOG('IN_LOOP');
      case SPACE.Spaceship.ARRIVED:
        return SPACE.LOG('ARRIVED');
      default:
        return this.setState(SPACE.Spaceship.IDLE);
    }
  };

  Spaceship.prototype.forward = function() {};

  Spaceship.prototype.backward = function() {};

  Spaceship.prototype.move = function() {};

  Spaceship.prototype.update = function() {};

  Spaceship.prototype._updateInLoop = function() {};

  Spaceship.prototype._updateInLaunched = function() {};

  return Spaceship;

})(THREE.Group);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRocmVlanMvZ3JhcGhpY3MvU3BhY2VzaGlwLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBO2lTQUFBOztBQUFBLEtBQVcsQ0FBQztBQUVWLDhCQUFBLENBQUE7O0FBQUEsc0JBQUEsS0FBQSxHQUFPLElBQVAsQ0FBQTs7QUFBQSxFQUdBLFNBQUMsQ0FBQSxJQUFELEdBQVcsTUFIWCxDQUFBOztBQUFBLEVBSUEsU0FBQyxDQUFBLFFBQUQsR0FBVyxVQUpYLENBQUE7O0FBQUEsRUFLQSxTQUFDLENBQUEsT0FBRCxHQUFXLFNBTFgsQ0FBQTs7QUFBQSxFQU1BLFNBQUMsQ0FBQSxPQUFELEdBQVcsU0FOWCxDQUFBOztBQVFhLEVBQUEsbUJBQUMsTUFBRCxFQUFTLE1BQVQsR0FBQTtBQUNYLElBQUEsNENBQUEsU0FBQSxDQUFBLENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQSxNQUFELEdBQVUsTUFGVixDQUFBO0FBQUEsSUFHQSxJQUFDLENBQUEsTUFBRCxHQUFVLE1BSFYsQ0FBQTtBQUFBLElBSUEsSUFBQyxDQUFBLEtBQUQsR0FBVSxJQUFJLENBQUMsTUFBTCxDQUFBLENBQUEsR0FBZ0IsSUFBSSxDQUFDLEVBQXJCLEdBQTBCLENBSnBDLENBQUE7QUFBQSxJQU1BLElBQUMsQ0FBQSxRQUFELENBQVUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUExQixDQU5BLENBQUE7QUFBQSxJQVFBLElBQUMsQ0FBQSxRQUFELENBQUEsQ0FSQSxDQURXO0VBQUEsQ0FSYjs7QUFBQSxzQkFtQkEsZUFBQSxHQUFpQixTQUFDLEtBQUQsRUFBUSxLQUFSLEVBQWUsTUFBZixHQUFBO0FBQ2YsUUFBQSxJQUFBO0FBQUEsSUFBQSxDQUFBLEdBQUksS0FBSyxDQUFDLENBQU4sR0FBVSxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsQ0FBQSxHQUFrQixNQUFoQyxDQUFBO0FBQUEsSUFDQSxDQUFBLEdBQUksS0FBSyxDQUFDLENBQU4sR0FBVSxJQUFJLENBQUMsR0FB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RHZCO2VBRUksS0FBSyxDQUFDLEdBQU4sQ0FBVSxNQUFWLEVBRko7QUFBQSxXQUdPLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFIdkI7ZUFJSSxLQUFLLENBQUMsR0FBTixDQUFVLFVBQVYsRUFKSjtBQUFBLFdBS08sS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUx2QjtlQU1JLEtBQUssQ0FBQyxHQUFOLENBQVUsU0FBVixFQU5KO0FBQUEsV0FPTyxLQUFLLENBQUMsU0FBUyxDQUFDLE9BUHZCO2VBUUksS0FBSyxDQUFDLEdBQU4sQ0FBVSxTQUFWLEVBUko7QUFBQTtlQVVJLElBQUMsQ0FBQSxRQUFELENBQVUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUExQixFQVZKO0FBQUEsS0FGUTtFQUFBLENBM0dWLENBQUE7O0FBQUEsc0JBeUhBLE9BQUEsR0FBUyxTQUFBLEdBQUEsQ0F6SFQsQ0FBQTs7QUFBQSxzQkEySEEsUUFBQSxHQUFVLFNBQUEsR0FBQSxDQTNIVixDQUFBOztBQUFBLHNCQTZIQSxJQUFBLEdBQU0sU0FBQSxHQUFBLENBN0hOLENBQUE7O0FBQUEsc0JBK0hBLE1BQUEsR0FBUSxTQUFBLEdBQUEsQ0EvSFIsQ0FBQTs7QUFBQSxzQkFpSUEsYUFBQSxHQUFlLFNBQUEsR0FBQSxDQWpJZixDQUFBOztBQUFBLHNCQW1JQSxpQkFBQSxHQUFtQixTQUFBLEdBQUEsQ0FuSW5CLENBQUE7O21CQUFBOztHQUY0QixLQUFLLENBQUMsTUFBcEMsQ0FBQSIsImZpbGUiOiJ0aHJlZWpzL2dyYXBoaWNzL1NwYWNlc2hpcC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFNQQUNFLlNwYWNlc2hpcCBleHRlbmRzIFRIUkVFLkdyb3VwXG5cbiAgc3RhdGU6IG51bGxcblxuICAjIFNUQVRFU1xuICBASURMRTogICAgICdJRExFJ1xuICBATEFVTkNIRUQ6ICdMQVVOQ0hFRCdcbiAgQElOX0xPT1A6ICAnSU5fTE9PUCdcbiAgQEFSUklWRUQ6ICAnQVJSSVZFRCdcblxuICBjb25zdHJ1Y3RvcjogKHRhcmdldCwgcmFkaXVzKS0+XG4gICAgc3VwZXJcblxuICAgIEB0YXJnZXQgPSB0YXJnZXRcbiAgICBAcmFkaXVzID0gcmFkaXVzXG4gICAgQGFuZ2xlICA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMlxuXG4gICAgQHNldFN0YXRlKFNQQUNFLlNwYWNlc2hpcC5JRExFKVxuXG4gICAgQGdlbmVyYXRlKClcblxuICBjb21wdXRlUG9zaXRpb246IChwb2ludCwgYW5nbGUsIGxlbmd0aCktPlxuICAgIHggPSBwb2ludC54ICsgTWF0aC5zaW4oYW5nbGUpICogbGVuZ3RoXG4gICAgeSA9IHBvaW50LnkgKyBNYXRoLmNvcyhhbmdsZSkgKiBsZW5ndGhcbiAgICByZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoeCwgeSwgcG9pbnQueilcblxuICBnZW5lcmF0ZTogLT5cblxuXG4gICAgZyA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpXG4gICAgZy52ZXJ0aWNlcy5wdXNoKFxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoICAwLCAtNTIuNSwgLTEwKVxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoLTEwLCAtNjcuNSwgIDEwKVxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoLTUwLCAtNDIuNSwgIDEwKVxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoICAwLCAgNjcuNSwgIDEwKVxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoKzUwLCAtNDIuNSwgIDEwKVxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoKzEwLCAtNjcuNSwgIDEwKVxuICAgIClcbiAgICBnLmZhY2VzLnB1c2goXG4gICAgICBuZXcgVEhSRUUuRmFjZTMoMCwgMywgMSksXG4gICAgICBuZXcgVEhSRUUuRmFjZTMoMSwgMiwgMyksXG4gICAgICBuZXcgVEhSRUUuRmFjZTMoMywgMCwgNSksXG4gICAgICBuZXcgVEhSRUUuRmFjZTMoNSwgNCwgMylcbiAgICApXG4gICAgZy5jb21wdXRlRmFjZU5vcm1hbHMoKVxuXG4gICAgbSA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgY29sb3I6IDB4MDA4OGZmLCBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlIH0pXG5cbiAgICBzaGlwID0gbmV3IFRIUkVFLk1lc2goZywgbSlcbiAgICBzaGlwLnJvdGF0aW9uLnNldChNYXRoLlBJKi41LCBNYXRoLlBJLCBNYXRoLlBJKi41KVxuICAgIHNoaXAuY2FzdFNoYWRvdyA9IHRydWVcbiAgICBzaGlwLnJlY2VpdmVTaGFkb3cgPSB0cnVlXG4gICAgQGFkZChzaGlwKVxuXG4gICAgIyAjIyBUdXJuIGFyb3VuZCAzRCAofm5lZWQgaW1wcm92ZW1lbnQpXG4gICAgIyBAcG9zaXRpb24uc2V0KDI1MCwgMCwgMClcblxuICAgICMgcG9pbnQgPSBAdGFyZ2V0XG4gICAgIyBvcmJpdCA9IEBwb3NpdGlvblxuICAgICMgZGlzdGFuY2UgPSBvcmJpdC5kaXN0YW5jZVRvKHBvaW50KVxuXG4gICAgIyB0aW1lID0gMFxuICAgICMgc2hpcC51cGRhdGUgPSAoZGVsdGEpPT5cbiAgICAjICAgdGltZSArPSBkZWx0YVxuICAgICMgICBAcG9zaXRpb24ueCA9IGRpc3RhbmNlICogTWF0aC5jb3ModGltZSAqIC4wMDEpXG4gICAgIyAgIEBwb3NpdGlvbi56ID0gZGlzdGFuY2UgKiBNYXRoLnNpbih0aW1lICogLjAwMSlcbiAgICAjICAgQHBvc2l0aW9uLnkgPSBkaXN0YW5jZSAqIE1hdGguY29zKHRpbWUgKiAuMDAxKVxuXG4gICAgIyMgVHVybiBhcm91bmRcbiAgICBAcG9zaXRpb24uc2V0KDI1MCwgMCwgMjUwKVxuXG4gICAgcG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMihAdGFyZ2V0LngsIEB0YXJnZXQueilcbiAgICBvcmJpdCA9IG5ldyBUSFJFRS5WZWN0b3IyKEBwb3NpdGlvbi54LCBAcG9zaXRpb24ueilcbiAgICBkaXN0YW5jZSA9IG9yYml0LmRpc3RhbmNlVG8ocG9pbnQpXG5cbiAgICB0aW1lID0gMFxuICAgIHNoaXAudXBkYXRlID0gKGRlbHRhKT0+XG4gICAgICB0aW1lICs9IGRlbHRhXG4gICAgICBhbmdsZSA9IHRpbWUgKiAuMDAxXG4gICAgICBwICAgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKVxuICAgICAgcC54ID0gZGlzdGFuY2UgKiBNYXRoLmNvcyhhbmdsZSlcbiAgICAgIHAueSA9IGRpc3RhbmNlICogTWF0aC5zaW4oYW5nbGUpXG4gICAgICBwLnogPSBAcG9zaXRpb24uelxuXG4gICAgICBAcG9zaXRpb24uc2V0KHAueCwgMCwgcC55KVxuICAgICAgQGxvb2tBdChAdGFyZ2V0KVxuXG4gICAgIyMgTW92ZSB0byBhIGRpcmVjdGlvblxuXG4gICAgIyBzcGVlZCA9XG4gICAgIyAgIHg6IE1hdGgucmFuZG9tKCkgKiAwLjA1XG4gICAgIyAgIHk6IDAuMDFcbiAgICAjICAgejogTWF0aC5yYW5kb20oKSAqIDAuMDVcblxuICAgICMgQHBvc2l0aW9uLnNldCgyNTAsIC0xMDAsIDI1MClcblxuICAgICMgcmF5ID0gbmV3IFRIUkVFLlJheShAdGFyZ2V0LmNsb25lKCksIEBwb3NpdGlvbi5jbG9uZSgpKVxuICAgICMgdGltZSAgICAgPSAwXG5cbiAgICAjIHNoaXAudXBkYXRlID0gKGRlbHRhKT0+XG4gICAgIyAgICMgc2hpcC5yb3RhdGlvbi55ICsgPSBzcGVlZC55XG4gICAgIyAgIHRpbWUgKz0gZGVsdGFcbiAgICAjICAgdCA9IHRpbWUgLyAoNSoxMDAwKVxuICAgICMgICB0ZCA9IDEgLSB0XG4gICAgIyAgIHJldHVybiBpZiB0ID49IDFcblxuICAgICMgICBwID0gcmF5LmF0KHRkKVxuICAgICMgICBAcG9zaXRpb24uc2V0KHAueCwgcC55LCBwLnopXG5cbiAgc2V0U3RhdGU6IChzdGF0ZSktPlxuICAgIEBzdGF0ZSA9IHN0YXRlXG4gICAgc3dpdGNoIHN0YXRlXG4gICAgICB3aGVuIFNQQUNFLlNwYWNlc2hpcC5JRExFXG4gICAgICAgIFNQQUNFLkxPRygnSURMRScpXG4gICAgICB3aGVuIFNQQUNFLlNwYWNlc2hpcC5MQVVOQ0hFRFxuICAgICAgICBTUEFDRS5MT0coJ0xBVU5DSEVEJylcbiAgICAgIHdoZW4gU1BBQ0UuU3BhY2VzaGlwLklOX0xPT1BcbiAgICAgICAgU1BBQ0UuTE9HKCdJTl9MT09QJylcbiAgICAgIHdoZW4gU1BBQ0UuU3BhY2VzaGlwLkFSUklWRURcbiAgICAgICAgU1BBQ0UuTE9HKCdBUlJJVkVEJylcbiAgICAgIGVsc2VcbiAgICAgICAgQHNldFN0YXRlKFNQQUNFLlNwYWNlc2hpcC5JRExFKVxuXG4gIGZvcndhcmQ6IC0+XG5cbiAgYmFja3dhcmQ6IC0+XG5cbiAgbW92ZTogLT5cblxuICB1cGRhdGU6IC0+XG5cbiAgX3VwZGF0ZUluTG9vcDogLT5cblxuICBfdXBkYXRlSW5MYXVuY2hlZDogLT5cbiJdfQ==